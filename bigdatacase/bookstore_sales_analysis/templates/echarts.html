<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="/static/echarts.js"></script>
    <title>echarts</title>
</head>
<body>

    <div id="main" style="width: 1350px;height:610px;"></div>
	<script type="text/javascript">
	      var myChart = echarts.init(document.getElementById('main'));

	      var timeData = {{ newDate|safe }};

	      option = {
	          title: {
                    text: '某书店2016年的销售趋势图',
                    subtext: '模拟书店销售的数据，每5秒钟产生一次数据',
                    x: 'center'
                },
              tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        animation: false
                    }
                },
              legend: {
                     data:['日销售额','月销售额'],
                     x: 'left'
              },
              toolbox: {
                    feature: {
                        dataZoom: {
                            yAxisIndex: 'none'
                        },
                        restore: {},
                        saveAsImage: {}
                    }
              },
              axisPointer: {
                    link: {xAxisIndex: 'all'}
              },
              dataZoom: [
                {
                    show: true,
                    realtime: true,
                    start: 30,
                    end: 70,
                    xAxisIndex: [0, 1]
                },
                {
                    type: 'inside',
                    realtime: true,
                    start: 30,
                    end: 70,
                    xAxisIndex: [0, 1]
                }
              ],
              grid: [{
                left: 50,
                right: 50,
                height: '35%'
            }, {
                left: 50,
                right: 50,
                top: '55%',
                height: '35%'
            }],

              xAxis : [
                {
                    type : 'category',
                    boundaryGap : false,
                    axisLine: {onZero: true},
                    data: timeData
                },
                {
                    gridIndex: 1,
                    type : 'category',
                    boundaryGap : false,
                    axisLine: {onZero: true},
                    data: timeData,
                    position: 'top'
                }
              ],
              yAxis : [
                {
                    name : '日销售额(元)',
                    type : 'value'
                },
                {
                    gridIndex: 1,
                    name : '月销售额(元)',
                    type : 'value',
                    inverse: true
                }
            ],
            series : [
                {
                    name:'日销售额',
                    type:'line',
                    symbolSize: 8,
                    hoverAnimation: false,
                    data: {{ day_amt|safe }}
                },
                {
                    name:'月销售额',
                    type:'line',
                    xAxisIndex: 1,
                    yAxisIndex: 1,
                    symbolSize: 8,
                    hoverAnimation: false,
                    data:{{ month_amt|safe }}
                }
    ]
          };
	      myChart.setOption(option);

</script>
</body>
</html>